<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="https://fe.it-academy.by/TestForm.php" name="validateform">
        Разработчики: <input type="text" name="razr"  ><br><span id="razra"></span><br>
        Название сайта: <input type="text" name="web" ><br><span id="weba"></span><br>
        URL сайта: <input type="text" name="URL"><br><br><span id="URLa"></span><br>
        дата запуска <input type="date" name="data"><br><span id="dataa"></span><br>
        Посетителей в сутки: <input type="text" name="viewers"><br><br><span id="viewersa"></span><br>
        e-mail для связи: <input type="text" name="email" ><br><br><span id="emaila"></span><br>
        Рубрика каталога: <select name="katalog" id=""><br>
            <option value="здоровье">здоровье</option>
            <option value="домашний уют">домашний уют</option>
            <option value="бытовая техника">бытовая техника</option>
        </select><br><span id="kataloga"></span><br>
        Размещение:	<br><input type="radio" name="position" value="1">бесплатное<br>
        <input type="radio" name="position" value="2">платное<br>
        <input type="radio" name="position" value="3">vip<br>
        <span id="positiona"></span><br>
        Разрешить отзывы: <input type="checkbox" name="opinion" value="opinion"><br><span id="opiniona"></span><br>
        Описание сайта: <textarea name="txt" id=""></textarea><br><br><span id="txta"></span><br>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <input type="submit">
        
    </form>
    <script>
        // function validRazr(isScroll){
        //     let error=0;
        //     const input=document.forms.validateform.elements.razr;
        //     const spanchik=document.getElementById("razrab");
        //     if (input.value){
        //         spanchik.innerHTML="";
        //     }else{
        //         error++;
        //         spanchik.innerHTML="заполните поле!";
        //         if(isScroll){
        //             input.focus();
        //         }
        //     }
        // }
        // function validWeb(isScroll){
        //     let error=0;
        //     const input=document.forms.validateform.elements.webName;
        //     const spanchik=document.getElementById("web");
        //     if (input.value){
        //         spanchik.innerHTML="";
        //     }else{
        //         error++;
        //         spanchik.innerHTML="заполните поле!";
        //         if(isScroll){
        //             input.focus();
        //         }
        //     }
        // }
        window.addEventListener("load",()=>{//ТАК КАК Я УЖЕ СМОТРЕЛ РАЗБОР ЗАДАНИЯ,РЕШИЛ УСЛОЖНИТЬ И СДНЕЛАТЬ ТОЛЬКО 1 ФУНКЦИЮ
            const inputs = document.querySelectorAll('input[type="text"],input[type="date"], textarea ');//ПОСМОТРНЛ В ИНТЕРНЕТЕ КАК СДЕЛАТЬ ФЕЙКОВОЕ ДЕЙСТВИЕ { target: input }
            const inputs1 = document.querySelectorAll('input[type="radio"], input[type="checkbox"], select');
            for(let i=0;i<inputs.length;i++){
                const input=inputs[i];
                input.addEventListener("blur",validRazr)
            }
            for(let i=0;i<inputs1.length;i++){
                const input=inputs1[i];
                input.addEventListener("change",validRazr)
            }
            document.forms.validateform.addEventListener('submit',(eo)=>{
                eo=eo||window.event;
                let error=0;
                const inputs = document.querySelectorAll("input, textarea, select");//ПОСМОТРНЛ В ИНТЕРНЕТЕ КАК СДЕЛАТЬ ФЕЙКОВОЕ ДЕЙСТВИЕ { target: input }
                for(let i=0;i<inputs.length;i++){
                    const input=inputs[i];
                    const fake = { target: input };
                    const result = validRazr(fake, error === 0);//ПРИ Error>0 будет false и скролл не будет работать 
                    if (!result) {
                        error++;//при первой ошибке меняется error=1 => следовательно isScroll=false 
                    }
                }
                if(error){
                    eo.preventDefault();
                }
            })
        })
        function validRazr(eo,isScroll){
            eo=eo||window.event;
            elem=eo.target;
            const tag = elem.tagName.toLowerCase();
            const type=elem.type;
            const spanId= elem.name+"a";//решил каждый span называть с дополнительным name+"а",можно было сделать например "-error"
            const spanchik=document.getElementById(spanId);
            switch(tag){
                case "input":
                    switch(type){
                        case "checkbox":
                            const checkGr = document.querySelector(`input[name="${elem.name}"]:checked`);
                            if (checkGr){
                                spanchik.innerHTML="";
                                return true;//при этом error не меняется
                            }else{
                                spanchik.style.color="red";
                                spanchik.innerHTML="галку поставь!!!";
                                if(isScroll){
                                    elem.focus();
                                }
                            return false;//error++
                            }
                            break;
                        case "radio":
                            const checkradio = document.querySelectorAll(`input[name="${elem.name}"]:checked`);
                            if (checkradio.length > 0){
                                spanchik.innerHTML="";
                                return true;//при этом error не меняется
                            }else{
                                spanchik.style.color="red";
                                spanchik.innerHTML="есть только бесплатное!";
                                if(isScroll){
                                    elem.focus();
                                }
                                return false;//error++
                            }
                            break;
                        case "date":
                        case "text":
                            if (elem.value){
                                spanchik.innerHTML="";
                                return true;//при этом error не меняется
                            }else{
                                spanchik.style.color="red";
                                spanchik.innerHTML="заполните поле!";
                                if(isScroll){
                                    elem.focus();
                                }
                                return false;//error++
                            }
                            break;
                    }
                    break;
                case "select":
                    if (elem.value=="бытовая техника"){
                        spanchik.innerHTML="";
                        return true;//при этом error не меняется
                    }else{
                        spanchik.style.color="red";
                        spanchik.innerHTML="есть только бытовая техника!";
                        if(isScroll){
                            elem.focus();
                        }
                        return false;//error++
                    }
                    break;
                case "textarea":
                    if (elem.value){
                        spanchik.innerHTML="";
                        return true;//при этом error не меняется
                    }else{
                        spanchik.style.color="red";
                        spanchik.innerHTML="заполните поле!";
                        if(isScroll){
                            elem.focus();
                        }
                        return false;//error++
                    }
                    break;
                case "submit":
                    return true;
                    break;
            }
            return true;
        }
        
    </script>
</body>
</html>